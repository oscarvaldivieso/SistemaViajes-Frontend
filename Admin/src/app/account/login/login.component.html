<div class="login-wrapper">
    <div class="login-container">
        <div class="login-card">
            <!-- Logo y título -->
            <div class="login-header">
                <div class="brand-logo">
                    <i class="ri-plane-fill"></i>
                </div>
                <h1 class="brand-title">Sistema Viajes</h1>
                <p class="brand-subtitle">Ingresa a tu cuenta</p>
            </div>

            <!-- Formulario de login -->
            <form [formGroup]="loginForm" (ngSubmit)="login($event)">

                <!-- Campo Usuario -->
                <div class="form-group">
                    <label for="username" class="form-label">Usuario</label>
                    <input type="text" id="username" class="form-control" formControlName="usuario"
                        [ngClass]="{ 'is-invalid': submitted && form['usuario'].errors }"
                        placeholder="Ingresa tu usuario" autocomplete="username">
                    @if (submitted && form['usuario'].errors) {
                    <div class="invalid-feedback">
                        @if (form['usuario'].errors['required']) {
                        <span>El usuario es requerido</span>
                        }
                        @if (form['usuario'].errors['minlength']) {
                        <span>El usuario debe tener al menos 3 caracteres</span>
                        }
                    </div>
                    }
                </div>

                <!-- Campo Contraseña -->
                <div class="form-group">
                    <label for="password" class="form-label">Contraseña</label>
                    <div class="password-input-wrapper">
                        <input [type]="fieldTextType ? 'text' : 'password'" id="password" class="form-control"
                            formControlName="contrasena"
                            [ngClass]="{ 'is-invalid': submitted && form['contrasena'].errors }"
                            placeholder="Ingresa tu contraseña" autocomplete="current-password">
                        <button type="button" class="password-toggle" (click)="toggleFieldTextType()" tabindex="-1">
                            <i [class]="fieldTextType ? 'ri-eye-off-line' : 'ri-eye-line'"></i>
                        </button>
                    </div>
                    @if (submitted && form['contrasena'].errors) {
                    <div class="invalid-feedback">
                        @if (form['contrasena'].errors['required']) {
                        <span>La contraseña es requerida</span>
                        }
                        @if (form['contrasena'].errors['minlength']) {
                        <span>La contraseña debe tener al menos 4 caracteres</span>
                        }
                    </div>
                    }
                </div>
                <!-- Botón de login -->
                <button type="submit" class="btn-login" [disabled]="loading">
                    @if (loading) {
                    <span class="spinner-border spinner-border-sm me-2"></span>
                    <span>Iniciando sesión...</span>
                    } @else {
                    <span>Iniciar Sesión</span>
                    }
                </button>
            </form>

            <!-- Footer -->
            <div class="login-footer">
                <p>&copy; {{year}} Sistema de Viajes</p>
            </div>
        </div>
    </div>
</div>